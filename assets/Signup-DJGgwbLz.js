import{g as h,a0 as w,h as I,P as q,r as l,e as C,k as R,w as r,a as u,f as p,d as s,L as d,N as A,O as T}from"./index-0IrWlbZO.js";import{u as B}from"./useForm-D7qwqDyN.js";import{u as j}from"./useToast-BnDBDhh1.js";const K={class:"text-base mb-4 leading-5"},N={class:"flex justify-center mt-4"},U=h({__name:"Signup",setup(S){const{validate:v}=B("form"),{push:k}=w(),{init:f}=j(),i=I(!1),t=q({phone:"",password:"",repeatPassword:""}),b=[o=>!!o||"Parol majburiy",o=>o.length>=8||"Kamida 8 belgidan iborat bo‘lishi kerak",o=>/[A-Za-z]/.test(o)||"Kamida 1 ta harf kerak",o=>/\d/.test(o)||"Kamida 1 ta raqam kerak",o=>/[!@#$%^&*]/.test(o)||"Kamida 1 ta maxsus belgi kerak"],c=async()=>{if(await v()){i.value=!0;try{await A.post(T.register(),{phone:t.phone,password:t.password}),f({message:"Tasdiqlash kodi SMS orqali yuborildi",color:"info"}),k({name:"verify",query:{phone:t.phone}})}catch{f({message:"Ro‘yxatdan o‘tishda xatolik",color:"danger"})}finally{i.value=!1}}};return(o,a)=>{const V=l("RouterLink"),m=l("VaInput"),y=l("VaIcon"),_=l("VaValue"),x=l("VaButton"),g=l("VaForm");return C(),R(g,{ref:"form",onSubmit:d(c,["prevent"])},{default:r(()=>[a[6]||(a[6]=u("h1",{class:"font-semibold text-4xl mb-4"},"Ro‘yxatdan o‘tish",-1)),u("p",K,[a[4]||(a[4]=p(" Akkountingiz bormi? ")),s(V,{to:{name:"login"},class:"font-semibold text-primary"},{default:r(()=>a[3]||(a[3]=[p("Tizimga kirish")])),_:1})]),s(m,{modelValue:t.phone,"onUpdate:modelValue":a[0]||(a[0]=e=>t.phone=e),rules:[e=>!!e||"Telefon raqam majburiy"],class:"mb-4",label:"Telefon raqam (998901234567 formatda)",type:"text"},null,8,["modelValue","rules"]),s(_,{"default-value":!1},{default:r(e=>[s(m,{modelValue:t.password,"onUpdate:modelValue":a[1]||(a[1]=n=>t.password=n),rules:b,type:e.value?"text":"password",class:"mb-4",label:"Parol",onClickAppendInner:d(n=>e.value=!e.value,["stop"])},{appendInner:r(()=>[s(y,{name:e.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","type","onClickAppendInner"]),s(m,{modelValue:t.repeatPassword,"onUpdate:modelValue":a[2]||(a[2]=n=>t.repeatPassword=n),rules:[n=>!!n||"Parolni tasdiqlash majburiy",n=>n===t.password||"Parollar mos emas"],type:e.value?"text":"password",class:"mb-4",label:"Parolni tasdiqlash",onClickAppendInner:d(n=>e.value=!e.value,["stop"])},{appendInner:r(()=>[s(y,{name:e.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","rules","type","onClickAppendInner"])]),_:1}),u("div",N,[s(x,{class:"w-full",loading:i.value,onClick:c},{default:r(()=>a[5]||(a[5]=[p("Ro‘yxatdan o‘tish")])),_:1},8,["loading"])])]),_:1},512)}}});export{U as default};
//# sourceMappingURL=Signup-DJGgwbLz.js.map
