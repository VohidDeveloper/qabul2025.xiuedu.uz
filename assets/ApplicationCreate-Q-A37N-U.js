import{M as Ct,$ as H,N as F,O as w,g as Pt,h as T,j as _,K as J,o as At,r as U,e as h,c as N,a as l,d as p,w as c,F as A,f as b,u as e,k as $,t as m,G as O}from"./index-0IrWlbZO.js";import{u as It}from"./useToast-BnDBDhh1.js";const qt=Ct("application",{state:()=>({step:"passport",hasSubmitted:!1,diplomType:null,passport:{series:"",number:"",birth_date:"",full_name:"",address:"",country:null,region:null,district:null,pinfl:"",image:null,gender:"",nationality:"",readonly:!1},diplomForm:{serial_number:"",education_type:null,institution_type:null,university_name:"",graduation_year:"",region:null,district:null,diploma_file:[],readonly:!1},transferDiplomForm:{country:null,university_name:"",target_course:null,transcript_file:[]},application:{admission_type:"",branch:null,education_level:null,education_form:null,program:null,diplom:null,transfer_diplom:null}}),actions:{setStep(x){this.step=x},async fetchPassportInfo(){const x=H(),{series:s,number:o,birth_date:D}=this.passport,V=(await F.get(w.getPassportInfo(),{params:{series:s,number:o,birth_date:D},headers:{Authorization:`Bearer ${x.accessToken}`}})).data;this.passport.full_name=V.full_name||"",this.passport.address=V.address||"",this.passport.region=Number(V.region_id)||null,this.passport.district=Number(V.district_id)||null,this.passport.readonly=!0,this.passport.image=V.photo_url||"",this.passport.pinfl=V.passport_number||""},async submitPassport(){var x,s,o,D,S,V,v;try{const d=new FormData;d.append("birth_date",this.passport.birth_date),d.append("passport_series",this.passport.series),d.append("pinfl",this.passport.pinfl);const[g,I,...P]=this.passport.full_name.split(" ");if(d.append("last_name",g||""),d.append("first_name",I||""),d.append("other_name",P.join(" ")||""),this.passport.address&&d.append("address",this.passport.address),this.passport.country&&d.append("country",String(this.passport.country)),this.passport.region&&d.append("region",String(this.passport.region)),this.passport.district&&d.append("district",String(this.passport.district)),this.passport.gender&&d.append("gender",this.passport.gender),this.passport.nationality&&d.append("nationality",this.passport.nationality),this.passport.image instanceof File)d.append("image",this.passport.image);else if(typeof this.passport.image=="string"){const j=await fetch(this.passport.image).then(C=>C.blob()).then(C=>new File([C],"passport.jpg",{type:C.type}));d.append("image",j)}const q=await F.post(w.createProfile(),d,{headers:{"Content-Type":"multipart/form-data"}});console.log("✅ Passport saqlandi:",q.data)}catch(d){throw console.error("❌ Passport saqlashda xato:",((x=d.response)==null?void 0:x.data)||d),new Error(((D=(o=(s=d.response)==null?void 0:s.data)==null?void 0:o.non_field_errors)==null?void 0:D[0])||((v=(V=(S=d.response)==null?void 0:S.data)==null?void 0:V.passport_series)==null?void 0:v[0])||"Passport maʼlumotlari yuborilmadi")}},async saveDiplom(){var x,s,o,D,S,V;try{const v=H();if(this.diplomType==="regular"){const d=new FormData;d.append("serial_number",this.diplomForm.serial_number),d.append("education_type",String(this.diplomForm.education_type)),d.append("institution_type",String(this.diplomForm.institution_type)),d.append("university_name",this.diplomForm.university_name),d.append("graduation_year",this.diplomForm.graduation_year),d.append("region",String(this.diplomForm.region)),d.append("district",String(this.diplomForm.district)),this.diplomForm.diploma_file instanceof File&&d.append("diploma_file",this.diplomForm.diploma_file);const g=await F.post(w.createDiplom(),d,{headers:{"Content-Type":"multipart/form-data"}});return this.application.diplom=g.data.id,v.user.diplom=g.data,g.data.id}if(this.diplomType==="transfer"){const d=new FormData;d.append("country",String(this.transferDiplomForm.country)),d.append("university_name",this.transferDiplomForm.university_name),d.append("target_course",String(this.transferDiplomForm.target_course)),this.transferDiplomForm.transcript_file instanceof File&&d.append("transcript_file",this.transferDiplomForm.transcript_file);const g=await F.post(w.createTransferDiplom(),d,{headers:{"Content-Type":"multipart/form-data"}});return this.application.transfer_diplom=g.data.id,v.user.transfer_diplom=g.data,g.data.id}}catch(v){throw console.error("❌ Diplom saqlashda xato:",((x=v.response)==null?void 0:x.data)||v),new Error(((D=(o=(s=v.response)==null?void 0:s.data)==null?void 0:o.non_field_errors)==null?void 0:D[0])||((V=Object.values(((S=v.response)==null?void 0:S.data)||{}).flat())==null?void 0:V[0])||"Diplom maʼlumotlari yuborilmadi")}},async submitApplication(){var s,o,D,S,V,v,d;if(console.log("🔍 Funksiya ishga tushdi"),console.log(this.diplomForm),!this.application.diplom&&!this.application.transfer_diplom){toast.init({title:"⚠️ Eʼtibor",message:"Iltimos, diplom yoki transfer diplom maʼlumotlarini kiriting.",color:"warning"});return}const x={admission_type:this.application.admission_type,branch:this.application.branch,education_level:this.application.education_level,education_form:this.application.education_form,program:this.application.program};this.diplomType==="regular"&&Number(this.application.diplom)?x.diplom=Number(this.application.diplom):this.diplomType==="transfer"&&Number(this.application.transfer_diplom)&&(x.transfer_diplom=Number(this.application.transfer_diplom));try{const g=await F.post(w.createApplication(),x);this.hasSubmitted=!0,console.log("✅ Application yuborildi:",g.data),console.log("📤 Application payload:",x),console.log("📎 Diplom ID:",this.application.diplom),console.log("📎 Transfer Diplom ID:",this.application.transfer_diplom)}catch(g){throw console.error("❌ Application yuborishda xato:",((s=g.response)==null?void 0:s.data)||g),toast.init({title:"❌ Xatolik",message:JSON.stringify(((o=g.response)==null?void 0:o.data)||g),color:"danger"}),new Error(((V=(S=(D=g.response)==null?void 0:D.data)==null?void 0:S.non_field_errors)==null?void 0:V[0])||((d=Object.values(((v=g.response)==null?void 0:v.data)||{}).flat())==null?void 0:d[0])||"Application yuborilmadi")}},async nextStep(){if(this.step==="passport")await this.submitPassport(),this.setStep("diplom");else if(this.step==="diplom"){const x=await this.saveDiplom();this.diplomType==="transfer"?this.application.transfer_diplom=x:this.diplomType==="regular"&&(this.application.diplom=x),this.setStep("application")}else this.step==="application"&&await this.submitApplication()},prevStep(){this.step==="application"?this.step="diplom":this.step==="diplom"&&(this.step="passport")}}}),jt={class:"p-4"},Mt={class:"mt-6"},$t={class:"w-full text-sm text-left border border-gray-200 rounded overflow-hidden"},Bt={class:"border-b"},Et={class:"py-2 px-4"},Qt={class:"border-b bg-gray-50"},Yt={class:"py-2 px-4"},Rt={class:"border-b"},Lt={class:"py-2 px-4"},Kt={class:"border-b bg-gray-50"},Xt={class:"py-2 px-4"},Gt={class:"border-b"},Jt={class:"py-2 px-4"},Ht={class:"border-b bg-gray-50"},Wt={class:"py-2 px-4"},Zt={class:"border-b bg-gray-50"},tl={class:"py-2 px-4"},ll={class:"border-b"},sl={class:"py-2 px-4"},al={class:"border-b bg-gray-50"},el={class:"py-2 px-4"},ol={class:"border-b bg-gray-50"},il={class:"py-2 px-4"},nl={class:"py-2 px-4"},rl=["src"],pl={key:1,class:"grid gap-6"},dl={class:""},ul={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-4 items-end py-2"},ml={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-4 items-end py-2"},cl={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-4 items-end mb-3"},yl={class:"border w-[100px] h-[100px] p-2 rounded border-dashed border-3"},fl=["src"],bl={key:2,class:"grid gap-6"},gl={class:"w-full text-sm text-left border border-gray-200 rounded overflow-hidden"},vl={class:"border-b"},_l={class:"py-2 px-4"},xl={class:"border-b bg-gray-50"},Vl={class:"py-2 px-4"},hl={class:"border-b"},Fl={class:"py-2 px-4"},wl={class:"border-b bg-gray-50"},Tl={class:"py-2 px-4"},kl={class:"border-b"},Dl={class:"py-2 px-4"},Nl={class:"border-b bg-gray-50"},Sl={class:"py-2 px-4"},zl={class:"py-2 px-4"},Ul={class:"bg-gray-50"},Ol={class:"py-2 px-4"},Cl=["href"],Pl={class:"w-full text-sm text-left border border-gray-200 rounded overflow-hidden"},Al={class:"border-b"},Il={class:"py-2 px-4"},ql={class:"border-b bg-gray-50"},jl={class:"py-2 px-4"},Ml={class:"border-b"},$l={class:"py-2 px-4"},Bl={class:"bg-gray-50"},El={class:"py-2 px-4"},Ql=["href"],Yl={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-4 items-end"},Rl={key:1,class:"grid gap-2"},Ll={class:"lg:col-span-4 col-span-12"},Kl={key:3,class:"grid md:grid-cols-1 gap-6"},Xl={class:"w-full text-sm text-left border border-gray-200 rounded overflow-hidden"},Gl={class:"border-b"},Jl={class:"py-2 px-4"},Hl={class:"border-b bg-gray-50"},Wl={class:"py-2 px-4"},Zl={class:"border-b"},ts={class:"py-2 px-4"},ls={class:"border-b bg-gray-50"},ss={class:"py-2 px-4"},as={class:"border-b"},es={class:"py-2 px-4"},os={key:4,class:"grid md:grid-cols-1 gap-6"},is={class:"mt-6 flex justify-between"},ps=Pt({__name:"ApplicationCreate",setup(x){const s=qt(),o=H(),D=It(),S=T(!1),V=T(!1),v=T([]),d=T([]),g=T([]),I=T([]),P=T([]),q=T([]),j=_(()=>s.passport.readonly===!0),C=T(!1),ft=async()=>{C.value=!0;try{await s.fetchPassportInfo(),s.passport.region&&await B(s.passport.region)}catch{D.init({title:"❌ Qidiruv xatosi",message:"Maʼlumot topilmadi yoki xatolik yuz berdi.",color:"danger"})}finally{C.value=!1}},bt=async()=>{try{const a=await F.get(w.listCountries()),t=a.data.results||a.data;v.value=t.map(i=>({label:i.name,value:Number(i.id)}))}catch(a){console.error("Davlatlar yuklanmadi:",a)}},gt=async()=>{try{const a=await F.get(w.listRegions()),t=a.data.results||a.data;q.value=t.map(i=>{var r;return{label:i.name,value:Number(i.id),countryId:Number((r=i.country)==null?void 0:r.id)}}),I.value=q.value}catch(a){console.error("Viloyatlar yuklanmadi:",a)}},B=async a=>{try{const t=await F.get(w.listDistricts(),{params:{region:a}}),i=t.data.results||t.data;g.value=i.map(r=>({label:r.name,value:Number(r.id)}))}catch(t){console.error("Tumanlar yuklanmadi:",t)}},vt=async a=>{try{const t=await F.get(w.listDistricts(),{params:{region:a}}),i=t.data.results||t.data;P.value=i.map(r=>({label:r.name,value:Number(r.id)}))}catch(t){console.error("Diplom uchun tumanlar yuklanmadi:",t)}};J(()=>s.passport.country,a=>{const t=Number(a);isNaN(t)?d.value=[]:(s.passport.region=null,s.passport.district=null,d.value=q.value.filter(i=>i.countryId===t))},{immediate:!0}),J(()=>s.passport.region,a=>{a?B(Number(a)):g.value=[]}),J(()=>s.diplomForm.region,a=>{a?vt(Number(a)):P.value=[]});const _t=async()=>{try{if(S.value=!1,V.value=!1,s.step==="passport"&&!s.passport.readonly){D.init({title:"Passport to‘ldirilmagan",message:"Iltimos, passport maʼlumotlarini to‘ldiring yoki avtomatik yuklang.",color:"warning"});return}s.step==="passport"?(await s.submitPassport(),s.setStep("diplom")):s.step==="diplom"?(await s.saveDiplom(),s.setStep("application")):s.step==="application"&&(await s.submitApplication(),V.value=!0)}catch{S.value=!0,D.init({message:"Xatolik yuz berdi. Qayta urinib ko‘ring.",title:"❌ Xatolik",color:"danger"})}},xt=()=>s.prevStep(),W=_(()=>s.step),Z=[{label:"1-kursga qabul",value:"regular"},{label:"O'qishni ko'chirish (perevod)",value:"transfer"}],Vt=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.profile)==null?void 0:r.country,t=v.value.find(u=>u.value===a);return(t==null?void 0:t.label)||"Nomaʼlum"}),ht=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.profile)==null?void 0:r.region,t=d.value.find(u=>u.value===a);return(t==null?void 0:t.label)||"Nomaʼlum"}),Ft=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.profile)==null?void 0:r.district,t=g.value.find(u=>u.value===a);return(t==null?void 0:t.label)||"Nomaʼlum"}),wt=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.diplom)==null?void 0:r.region,t=I.value.find(u=>u.value===a);return(t==null?void 0:t.label)||`#${a}`}),Tt=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.diplom)==null?void 0:r.district,t=P.value.find(u=>u.value===a);return(t==null?void 0:t.label)||`#${a}`}),kt=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.diplom)==null?void 0:r.education_type,t=L.value.find(u=>u.id===a);return(t==null?void 0:t.name)||`#${a}`}),Dt=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.diplom)==null?void 0:r.institution_type,t=K.value.find(u=>u.id===a);return(t==null?void 0:t.name)||`#${a}`}),tt=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.transfer_diplom)==null?void 0:r.target_course,t=M.value.find(u=>u.id===a);return(t==null?void 0:t.name)||`#${a}`}),Nt=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.transfer_diplom)==null?void 0:r.country,t=v.value.find(u=>u.value===a);return(t==null?void 0:t.label)||`#${a}`}),St=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.application)==null?void 0:r.education_level,t=Y.value.find(u=>u.id===a);return(t==null?void 0:t.name)||`#${a||"Nomaʼlum"}`}),lt=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.application)==null?void 0:r.admission_type,t=Z.find(u=>u.value===a);return(t==null?void 0:t.label)||`#${a||"Nomaʼlum"}`}),st=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.application)==null?void 0:r.branch,t=Q.value.find(u=>u.id===a);return(t==null?void 0:t.name)||`#${a||"Nomaʼlum"}`}),at=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.application)==null?void 0:r.education_form,t=E.value.find(u=>u.id===a);return(t==null?void 0:t.name)||`#${a||"Nomaʼlum"}`}),et=_(()=>{var i,r;const a=(r=(i=o.user)==null?void 0:i.application)==null?void 0:r.program,t=R.value.find(u=>u.id===a);return(t==null?void 0:t.name)||`#${a||"Nomaʼlum"}`}),zt=_(()=>y.value.application.admission_type==="regular"?E.value.filter(t=>t.name!=="Sirtqi"):E.value),Ut=_(()=>s.hasSubmitted),y=_(()=>s),Q=T([]),Y=T([]),E=T([]),R=T([]),M=T([]),L=T([]),K=T([]);return console.log(M),At(async()=>{var t,i,r,u;if(await bt(),await gt(),await o.fetchUser(),s.passport.region&&await B(s.passport.region),(t=o.user)!=null&&t.profile){const f=o.user.profile;s.passport={series:f.passport_series,number:f.number,birth_date:f.birth_date,full_name:`${f.last_name} ${f.first_name} ${f.other_name}`.trim(),address:f.address,country:f.country,region:f.region,district:f.district,pinfl:f.pinfl,image:f.image,readonly:!0},f.region&&await B(f.region),s.setStep("diplom")}if((i=o.user)!=null&&i.diplom){const f=o.user.diplom;s.diplomForm={serial_number:f.serial_number,education_type:f.education_type,institution_type:f.institution_type,university_name:f.university_name,graduation_year:f.graduation_year,region:f.region,district:f.district,diploma_file:null,readonly:!0},s.diplomType="regular",s.setStep("application")}(r=o.user)!=null&&r.diplom&&(s.application.diplom=o.user.diplom.id),(u=o.user)!=null&&u.transfer_diplom&&(s.application.transfer_diplom=o.user.transfer_diplom.id),Q.value=(await F.get(w.listBranches())).data,Y.value=(await F.get(w.listEducationLevels())).data,E.value=(await F.get(w.listEducationForms())).data,R.value=(await F.get(w.listPrograms())).data,M.value=(await F.get(w.listCourses())).data,L.value=(await F.get(w.listEducationTypes())).data,K.value=(await F.get(w.listIstitutionTypes())).data;const a=await F.get(w.listCourses());M.value=a.data.results||a.data}),(a,t)=>{const i=U("VaAlert"),r=U("VaCardTitle"),u=U("VaCardContent"),f=U("VaCard"),X=U("VaTab"),Ot=U("VaTabs"),z=U("VaInput"),G=U("VaButton"),k=U("VaSelect"),ot=U("VaFileUpload");return h(),N("div",jt,[t[88]||(t[88]=l("h1",{class:"text-2xl font-bold mb-6"},"🧾 Ariza topshirish",-1)),p(f,null,{default:c(()=>[p(u,null,{default:c(()=>{var it,nt,rt,pt,dt,ut,mt,ct,yt;return[Ut.value?(h(),N(A,{key:0},[p(i,{color:"success",class:"mb-4"},{default:c(()=>t[28]||(t[28]=[b("✅ Siz arizani allaqachon to‘ldirgansiz. Maʼlumotlaringiz:")])),_:1}),(it=e(o).user)!=null&&it.profile?(h(),$(f,{key:0,class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[29]||(t[29]=[b("📌 Passport")])),_:1}),p(u,null,{default:c(()=>[l("p",null,[t[30]||(t[30]=l("strong",null,"F.I.Sh:",-1)),b(" "+m(e(o).user.profile.last_name)+" "+m(e(o).user.profile.first_name)+" "+m(e(o).user.profile.other_name),1)]),l("p",null,[t[31]||(t[31]=l("strong",null,"Manzil:",-1)),b(" "+m(e(o).user.profile.address),1)])]),_:1})]),_:1})):O("",!0),(nt=e(o).user)!=null&&nt.diplom?(h(),$(f,{key:1,class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[32]||(t[32]=[b("🎓 Diplom")])),_:1}),p(u,null,{default:c(()=>[l("p",null,[t[33]||(t[33]=l("strong",null,"OTM:",-1)),b(" "+m(e(o).user.diplom.university_name),1)]),l("p",null,[t[34]||(t[34]=l("strong",null,"Bitirgan yil:",-1)),b(" "+m(e(o).user.diplom.graduation_year),1)])]),_:1})]),_:1})):O("",!0),(rt=e(o).user)!=null&&rt.transfer_diplom?(h(),$(f,{key:2,class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[35]||(t[35]=[b("🎓 Transfer Diplom")])),_:1}),p(u,null,{default:c(()=>[l("p",null,[t[36]||(t[36]=l("strong",null,"OTM:",-1)),b(" "+m(e(o).user.transfer_diplom.university_name),1)]),l("p",null,[t[37]||(t[37]=l("strong",null,"Kurs:",-1)),b(" "+m(tt.value),1)])]),_:1})]),_:1})):O("",!0),(pt=e(o).user)!=null&&pt.application?(h(),$(f,{key:3,class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[38]||(t[38]=[b("📋 Ariza")])),_:1}),p(u,null,{default:c(()=>[l("p",null,[t[39]||(t[39]=l("strong",null,"Yo‘nalish:",-1)),b(" "+m(et.value),1)]),l("p",null,[t[40]||(t[40]=l("strong",null,"Taʼlim shakli:",-1)),b(" "+m(at.value),1)]),l("p",null,[t[41]||(t[41]=l("strong",null,"Filial:",-1)),b(" "+m(st.value),1)]),l("p",null,[t[42]||(t[42]=l("strong",null,"Qabul turi:",-1)),b(" "+m(lt.value),1)])]),_:1})]),_:1})):O("",!0)],64)):(h(),N(A,{key:1},[p(Ot,{modelValue:e(s).step,"onUpdate:modelValue":t[0]||(t[0]=n=>e(s).step=n),grow:""},{default:c(()=>[p(X,{name:"passport"},{default:c(()=>t[43]||(t[43]=[b("Passport")])),_:1}),p(X,{name:"diplom"},{default:c(()=>t[44]||(t[44]=[b("Diplom")])),_:1}),p(X,{name:"application"},{default:c(()=>t[45]||(t[45]=[b("Ariza")])),_:1})]),_:1},8,["modelValue"]),l("div",Mt,[e(s).step==="passport"&&((dt=e(o).user)!=null&&dt.profile)?(h(),N(A,{key:0},[p(i,{color:"info"},{default:c(()=>t[46]||(t[46]=[b("ℹ️ Siz passport maʼlumotlarini oldin to‘ldirgansiz.")])),_:1}),p(f,{class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[47]||(t[47]=[b("📌 Passport maʼlumotlari")])),_:1}),p(u,null,{default:c(()=>[l("table",$t,[l("tbody",null,[l("tr",Bt,[t[48]||(t[48]=l("td",{class:"py-2 px-4 font-semibold w-1/3"},"Familiya:",-1)),l("td",Et,m(e(o).user.profile.last_name),1)]),l("tr",Qt,[t[49]||(t[49]=l("td",{class:"py-2 px-4 font-semibold"},"Ism:",-1)),l("td",Yt,m(e(o).user.profile.first_name),1)]),l("tr",Rt,[t[50]||(t[50]=l("td",{class:"py-2 px-4 font-semibold"},"Otasining ismi:",-1)),l("td",Lt,m(e(o).user.profile.other_name),1)]),l("tr",Kt,[t[51]||(t[51]=l("td",{class:"py-2 px-4 font-semibold"},"Tug‘ilgan sana:",-1)),l("td",Xt,m(e(o).user.profile.birth_date),1)]),l("tr",Gt,[t[52]||(t[52]=l("td",{class:"py-2 px-4 font-semibold"},"Passport seriyasi:",-1)),l("td",Jt,m(e(o).user.profile.passport_series),1)]),l("tr",Ht,[t[53]||(t[53]=l("td",{class:"py-2 px-4 font-semibold"},"PINFL:",-1)),l("td",Wt,m(e(o).user.profile.pinfl),1)]),l("tr",Zt,[t[54]||(t[54]=l("td",{class:"py-2 px-4 font-semibold"},"Davlat:",-1)),l("td",tl,m(Vt.value),1)]),l("tr",ll,[t[55]||(t[55]=l("td",{class:"py-2 px-4 font-semibold"},"Viloyat:",-1)),l("td",sl,m(ht.value),1)]),l("tr",al,[t[56]||(t[56]=l("td",{class:"py-2 px-4 font-semibold"},"Tuman:",-1)),l("td",el,m(Ft.value),1)]),l("tr",ol,[t[57]||(t[57]=l("td",{class:"py-2 px-4 font-semibold"},"Manzil:",-1)),l("td",il,m(e(o).user.profile.address),1)]),l("tr",null,[t[58]||(t[58]=l("td",{class:"py-2 px-4 font-semibold"},"📷 Rasm:",-1)),l("td",nl,[l("img",{src:e(o).user.profile.image,alt:"Passport Image",class:"max-h-40 border rounded shadow"},null,8,rl)])])])])]),_:1})]),_:1})],64)):e(s).step==="passport"?(h(),N("div",pl,[l("div",dl,[t[60]||(t[60]=l("h4",{class:"text-[#888] text-center",style:{"font-size":"12px","font-weight":"bolder"}},[l("span",{class:"text-[#444]"},"Avto qidiruv"),b(" (Passport seria raqami va tug'ilgan sanani kiriting va qidiruv tugmasini bosing) ")],-1)),l("div",ul,[p(z,{modelValue:y.value.passport.series,"onUpdate:modelValue":t[1]||(t[1]=n=>y.value.passport.series=n),placeholder:"",label:"Passport seriyasi",class:"lg:col-span-3 col-span-12"},null,8,["modelValue"]),p(z,{modelValue:y.value.passport.number,"onUpdate:modelValue":t[2]||(t[2]=n=>y.value.passport.number=n),placeholder:"",label:"Passport raqami",class:"lg:col-span-4 col-span-12"},null,8,["modelValue"]),p(z,{modelValue:y.value.passport.birth_date,"onUpdate:modelValue":t[3]||(t[3]=n=>y.value.passport.birth_date=n),type:"date",label:"Tug‘ilgan sana",class:"lg:col-span-4 col-span-12"},null,8,["modelValue"]),p(G,{size:"small",style:{width:"40px",height:"40px"},class:"lg:col-span-1 col-span-12 rounded-md h-full flex items-center justify-center",loading:C.value,icon:C.value?"va-loading":"search","aria-label":"Qidirish",onClick:ft},{default:c(()=>t[59]||(t[59]=[b("🔍")])),_:1},8,["loading","icon"])]),l("div",ml,[p(z,{modelValue:y.value.passport.full_name,"onUpdate:modelValue":t[4]||(t[4]=n=>y.value.passport.full_name=n),class:"lg:col-span-4 col-span-12",label:"F.I.Sh.",readonly:j.value},null,8,["modelValue","readonly"]),p(z,{modelValue:y.value.passport.address,"onUpdate:modelValue":t[5]||(t[5]=n=>y.value.passport.address=n),class:"lg:col-span-4 col-span-12",label:"Manzil",readonly:j.value},null,8,["modelValue","readonly"]),p(z,{modelValue:y.value.passport.pinfl,"onUpdate:modelValue":t[6]||(t[6]=n=>y.value.passport.pinfl=n),class:"lg:col-span-4 col-span-12",label:"pinfl",readonly:j.value},null,8,["modelValue","readonly"])]),l("div",cl,[p(k,{modelValue:y.value.passport.country,"onUpdate:modelValue":t[7]||(t[7]=n=>y.value.passport.country=n),options:v.value,label:"Davlat","track-by":"value","text-by":"label","value-by":n=>n.value,class:"lg:col-span-4 col-span-12"},null,8,["modelValue","options","value-by"]),p(k,{modelValue:y.value.passport.region,"onUpdate:modelValue":t[8]||(t[8]=n=>y.value.passport.region=n),options:d.value,label:"Viloyat","track-by":"value","text-by":"label","value-by":n=>n.value,class:"lg:col-span-4 col-span-12"},null,8,["modelValue","options","value-by"]),p(k,{modelValue:y.value.passport.district,"onUpdate:modelValue":t[9]||(t[9]=n=>y.value.passport.district=n),options:g.value,label:"Tuman",disabled:!y.value.passport.region,"track-by":"value","text-by":"label","value-by":n=>n.value,class:"lg:col-span-4 col-span-12"},null,8,["modelValue","options","disabled","value-by"])]),l("div",yl,[l("img",{src:y.value.passport.image,alt:"Passport Image",class:"max-h-48 object-contain"},null,8,fl)])])])):O("",!0),e(s).step==="diplom"?(h(),N("div",bl,[(ut=e(o).user)!=null&&ut.diplom?(h(),N(A,{key:0},[p(i,{color:"info",class:"w-full"},{default:c(()=>t[61]||(t[61]=[b("ℹ️ Siz diplom maʼlumotlarini oldin to‘ldirgansiz.")])),_:1}),p(f,{class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[62]||(t[62]=[b("🎓 Diplom")])),_:1}),p(u,null,{default:c(()=>[l("table",gl,[l("tbody",null,[l("tr",vl,[t[63]||(t[63]=l("td",{class:"py-2 px-4 font-semibold w-1/3"},"Seriya raqami:",-1)),l("td",_l,m(e(o).user.diplom.serial_number),1)]),l("tr",xl,[t[64]||(t[64]=l("td",{class:"py-2 px-4 font-semibold"},"OTM:",-1)),l("td",Vl,m(e(o).user.diplom.university_name),1)]),l("tr",hl,[t[65]||(t[65]=l("td",{class:"py-2 px-4 font-semibold"},"Bitirgan yil:",-1)),l("td",Fl,m(e(o).user.diplom.graduation_year),1)]),l("tr",wl,[t[66]||(t[66]=l("td",{class:"py-2 px-4 font-semibold"},"Viloyat:",-1)),l("td",Tl,m(wt.value),1)]),l("tr",kl,[t[67]||(t[67]=l("td",{class:"py-2 px-4 font-semibold"},"Tuman:",-1)),l("td",Dl,m(Tt.value),1)]),l("tr",Nl,[t[68]||(t[68]=l("td",{class:"py-2 px-4 font-semibold"},"Muassasa turi:",-1)),l("td",Sl,m(Dt.value),1)]),l("tr",null,[t[69]||(t[69]=l("td",{class:"py-2 px-4 font-semibold"},"Taʼlim turi:",-1)),l("td",zl,m(kt.value),1)]),l("tr",Ul,[t[70]||(t[70]=l("td",{class:"py-2 px-4 font-semibold"},"📎 Diplom fayli:",-1)),l("td",Ol,[l("a",{href:e(o).user.diplom.diploma_file,target:"_blank",class:"text-blue-600 hover:underline"}," Yuklab olish ",8,Cl)])])])])]),_:1})]),_:1})],64)):(mt=e(o).user)!=null&&mt.transfer_diplom?(h(),N(A,{key:1},[p(i,{color:"info",class:"w-full"},{default:c(()=>t[71]||(t[71]=[b("ℹ️ Siz transfer diplom maʼlumotlarini oldin to‘ldirgansiz.")])),_:1}),p(f,{class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[72]||(t[72]=[b("🎓 Transfer Diplom")])),_:1}),p(u,null,{default:c(()=>[l("table",Pl,[l("tbody",null,[l("tr",Al,[t[73]||(t[73]=l("td",{class:"py-2 px-4 font-semibold w-1/3"},"Davlat:",-1)),l("td",Il,m(Nt.value),1)]),l("tr",ql,[t[74]||(t[74]=l("td",{class:"py-2 px-4 font-semibold"},"OTM nomi:",-1)),l("td",jl,m(e(o).user.transfer_diplom.university_name),1)]),l("tr",Ml,[t[75]||(t[75]=l("td",{class:"py-2 px-4 font-semibold"},"Topshiradigan kursi:",-1)),l("td",$l,m(tt.value),1)]),l("tr",Bl,[t[76]||(t[76]=l("td",{class:"py-2 px-4 font-semibold"},"📎 Transcript fayli:",-1)),l("td",El,[l("a",{href:e(o).user.transfer_diplom.transcript_file,target:"_blank",class:"text-blue-600 hover:underline"}," Yuklab olish ",8,Ql)])])])])]),_:1})]),_:1})],64)):(h(),N(A,{key:2},[t[79]||(t[79]=l("h4",{class:"text-[#888] text-start",style:{"font-size":"12px","font-weight":"bolder"}},[l("span",{class:"text-[#444]"},"O'qishga topshirmoqchimisiz? yoki Perevodmi? "),b(" (O'zingizga tegishlisini tanlab to'ldiring) ")],-1)),p(k,{modelValue:e(s).diplomType,"onUpdate:modelValue":t[10]||(t[10]=n=>e(s).diplomType=n),options:[{label:"Diplom maʼlumotlari",value:"regular"},{label:"Transfer (perevod)",value:"transfer"}],label:"Diplom turi","text-by":"label","value-by":"value"},null,8,["modelValue"]),e(s).diplomType==="regular"&&e(s).diplomForm?(h(),N("div",Yl,[p(z,{modelValue:e(s).diplomForm.serial_number,"onUpdate:modelValue":t[11]||(t[11]=n=>e(s).diplomForm.serial_number=n),class:"lg:col-span-4 col-span-12",label:"Diplom seriya raqami"},null,8,["modelValue"]),p(k,{modelValue:e(s).diplomForm.education_type,"onUpdate:modelValue":t[12]||(t[12]=n=>e(s).diplomForm.education_type=n),class:"lg:col-span-4 col-span-12",options:L.value,clearable:"",label:"Ma'lumot turi","value-by":"id","text-by":"name"},null,8,["modelValue","options"]),p(k,{modelValue:e(s).diplomForm.institution_type,"onUpdate:modelValue":t[13]||(t[13]=n=>e(s).diplomForm.institution_type=n),class:"lg:col-span-4 col-span-12",options:K.value,clearable:"",label:"Muassasa turi","value-by":"id","text-by":"name"},null,8,["modelValue","options"]),p(z,{modelValue:e(s).diplomForm.university_name,"onUpdate:modelValue":t[14]||(t[14]=n=>e(s).diplomForm.university_name=n),class:"lg:col-span-4 col-span-12",label:"Muassasa nomi"},null,8,["modelValue"]),p(z,{modelValue:e(s).diplomForm.graduation_year,"onUpdate:modelValue":t[15]||(t[15]=n=>e(s).diplomForm.graduation_year=n),class:"lg:col-span-4 col-span-12",label:"Bitirgan yil"},null,8,["modelValue"]),p(k,{modelValue:e(s).diplomForm.region,"onUpdate:modelValue":t[16]||(t[16]=n=>e(s).diplomForm.region=n),class:"lg:col-span-4 col-span-12",options:I.value,clearable:"",label:"Viloyat","value-by":"value","text-by":"label"},null,8,["modelValue","options"]),p(k,{modelValue:e(s).diplomForm.district,"onUpdate:modelValue":t[17]||(t[17]=n=>e(s).diplomForm.district=n),class:"lg:col-span-4 col-span-12",options:P.value,clearable:"",label:"Tuman","value-by":"value","text-by":"label",disabled:!e(s).diplomForm.region},null,8,["modelValue","options","disabled"]),p(ot,{modelValue:e(s).diplomForm.diploma_file,"onUpdate:modelValue":t[18]||(t[18]=n=>e(s).diplomForm.diploma_file=n),type:"single",label:"📄 Diplom faylini yuklang",accept:".pdf,.jpg,.jpeg,.png",class:"lg:col-span-8 col-span-12",dropzone:""},null,8,["modelValue"]),l("pre",null,m((ct=y.value.diplomForm.diploma_file)==null?void 0:ct.name),1)])):O("",!0),e(s).diplomType==="transfer"&&e(s).transferDiplomForm?(h(),N("div",Rl,[p(k,{modelValue:e(s).transferDiplomForm.country,"onUpdate:modelValue":t[19]||(t[19]=n=>e(s).transferDiplomForm.country=n),options:v.value,clearable:"",label:"Davlat","track-by":"value","text-by":"label","value-by":n=>n.value,class:"lg:col-span-4 col-span-12"},null,8,["modelValue","options","value-by"]),p(z,{modelValue:e(s).transferDiplomForm.university_name,"onUpdate:modelValue":t[20]||(t[20]=n=>e(s).transferDiplomForm.university_name=n),class:"lg:col-span-4 col-span-12",label:"OTM nomi"},null,8,["modelValue"]),p(k,{modelValue:e(s).transferDiplomForm.target_course,"onUpdate:modelValue":t[21]||(t[21]=n=>e(s).transferDiplomForm.target_course=n),options:M.value,clearable:"",label:"Topshiradigan kursi","value-by":"id","text-by":"name",class:"lg:col-span-4 col-span-12"},null,8,["modelValue","options"]),l("div",Ll,[t[77]||(t[77]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"📎 Transcript faylni yuklang",-1)),t[78]||(t[78]=l("small",{class:"text-gray-500 text-sm"},"Faqat .pdf, .jpg, .jpeg, .png, docx, .doc fayllar qabul qilinadi",-1)),p(ot,{modelValue:e(s).transferDiplomForm.transcript_file,"onUpdate:modelValue":t[22]||(t[22]=n=>e(s).transferDiplomForm.transcript_file=n),label:"📎 Transcript fayl",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",type:"single",class:"lg:col-span-4 col-span-12",dropzone:""},null,8,["modelValue"])])])):O("",!0)],64))])):O("",!0),e(s).step==="application"&&((yt=e(o).user)!=null&&yt.application)?(h(),N("div",Kl,[p(i,{color:"info",class:"w-full"},{default:c(()=>t[80]||(t[80]=[b("ℹ️ Siz ariza (application) maʼlumotlarini oldin to‘ldirgansiz.")])),_:1}),p(f,{class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[81]||(t[81]=[b("📌 Ariza maʼlumotlari")])),_:1}),p(u,null,{default:c(()=>[l("table",Xl,[l("tbody",null,[l("tr",Gl,[t[82]||(t[82]=l("td",{class:"py-2 px-4 font-semibold w-1/3"},"Qabul turi:",-1)),l("td",Jl,m(lt.value),1)]),l("tr",Hl,[t[83]||(t[83]=l("td",{class:"py-2 px-4 font-semibold"},"Filial:",-1)),l("td",Wl,m(st.value),1)]),l("tr",Zl,[t[84]||(t[84]=l("td",{class:"py-2 px-4 font-semibold"},"Taʼlim darajasi:",-1)),l("td",ts,m(St.value),1)]),l("tr",ls,[t[85]||(t[85]=l("td",{class:"py-2 px-4 font-semibold"},"Taʼlim shakli:",-1)),l("td",ss,m(at.value),1)]),l("tr",as,[t[86]||(t[86]=l("td",{class:"py-2 px-4 font-semibold"},"Yo‘nalish:",-1)),l("td",es,m(et.value),1)])])])]),_:1})]),_:1})])):e(s).step==="application"?(h(),N("div",os,[p(k,{modelValue:y.value.application.admission_type,"onUpdate:modelValue":t[23]||(t[23]=n=>y.value.application.admission_type=n),options:Z,label:"Qabul turi","text-by":"label","value-by":"value",placeholder:"Qabul turini tanlang"},null,8,["modelValue"]),p(k,{modelValue:y.value.application.branch,"onUpdate:modelValue":t[24]||(t[24]=n=>y.value.application.branch=n),options:Q.value,label:"Filial","value-by":"id","text-by":"name",placeholder:"Filialni tanlang"},null,8,["modelValue","options"]),p(k,{modelValue:y.value.application.education_level,"onUpdate:modelValue":t[25]||(t[25]=n=>y.value.application.education_level=n),options:Y.value,label:"Taʼlim darajasi","value-by":"id","text-by":"name",placeholder:"Taʼlim darajasini tanlang"},null,8,["modelValue","options"]),p(k,{modelValue:y.value.application.education_form,"onUpdate:modelValue":t[26]||(t[26]=n=>y.value.application.education_form=n),options:zt.value,label:"Taʼlim shakli","value-by":"id","text-by":"name",placeholder:"Taʼlim shaklini tanlang"},null,8,["modelValue","options"]),p(k,{modelValue:y.value.application.program,"onUpdate:modelValue":t[27]||(t[27]=n=>y.value.application.program=n),options:R.value,label:"Yo‘nalish","value-by":"id","text-by":"name",placeholder:"Yo‘nalishni tanlang"},null,8,["modelValue","options"])])):O("",!0)]),l("div",is,[W.value!=="passport"?(h(),$(G,{key:0,onClick:xt},{default:c(()=>t[87]||(t[87]=[b("⬅️ Ortga")])),_:1})):O("",!0),p(G,{color:"primary",onClick:_t},{default:c(()=>[b(m(W.value==="application"?"✅ Yuborish":"Keyingi ➡️"),1)]),_:1})])],64))]}),_:1})]),_:1})])}}});export{ps as default};
//# sourceMappingURL=ApplicationCreate-Q-A37N-U.js.map
