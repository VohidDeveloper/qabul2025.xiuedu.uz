import{k as y,r,a1 as V,a0 as v,g as n,h as _,p as k,w as u,a as d,d as c,j as x,N as b,i as h,f as q}from"./index-COW6RPyt.js";import{u as T}from"./useToast-B-i4A3KA.js";const w={class:"flex justify-center"},S=y({__name:"Verify",setup(B){const a=r(""),o=r(!1),{query:l}=V(),{push:m}=v(),{init:t}=T(),i=async()=>{if(!a.value||!l.phone){t({message:"Telefon yoki kod yo‘q",color:"danger"});return}o.value=!0;try{await h.post(q.verify(),{phone:l.phone,code:a.value}),t({message:"Tizimga muvaffaqiyatli ro‘yxatdan o‘tildi!",color:"success"}),m({name:"login"})}catch{t({message:"Kod noto‘g‘ri yoki muddati tugagan",color:"danger"})}finally{o.value=!1}};return(C,e)=>{const p=n("VaInput"),f=n("VaButton"),g=n("VaForm");return _(),k(g,{onSubmit:b(i,["prevent"])},{default:u(()=>[e[2]||(e[2]=d("h2",{class:"text-xl mb-4"},"SMS orqali yuborilgan kodni kiriting",-1)),c(p,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),label:"Tasdiqlash kodi",rules:[s=>!!s||"Kod majburiy"],type:"text",class:"mb-4"},null,8,["modelValue","rules"]),d("div",w,[c(f,{loading:o.value,class:"w-full",onClick:i},{default:u(()=>e[1]||(e[1]=[x("Tasdiqlash")])),_:1},8,["loading"])])]),_:1})}}});export{S as default};
//# sourceMappingURL=Verify-dCR8kwKQ.js.map
