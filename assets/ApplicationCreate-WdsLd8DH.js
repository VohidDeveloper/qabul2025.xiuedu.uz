import{M as Ct,$ as H,N as F,O as w,g as Ot,h as T,j as V,K as J,o as Pt,r as U,e as h,c as N,a as l,d as p,w as c,F as A,f as b,u as a,k as $,t as m,G as C}from"./index-BZ-BXCh5.js";import{u as At}from"./useToast-CM91r3xC.js";const It=Ct("application",{state:()=>({step:"passport",hasSubmitted:!1,diplomType:null,passport:{series:"",number:"",birth_date:"",full_name:"",address:"",country:null,region:null,district:null,pinfl:"",image:null,gender:"",nationality:"",readonly:!1},diplomForm:{serial_number:"",education_type:null,institution_type:null,university_name:"",graduation_year:"",region:null,district:null,diploma_file:[],readonly:!1},transferDiplomForm:{country:null,university_name:"",target_course:null,transcript_file:[]},application:{admission_type:"",branch:null,education_level:null,education_form:null,program:null,diplom:null,transfer_diplom:null}}),actions:{setStep(_){this.step=_},async fetchPassportInfo(){const _=H(),{series:s,number:o,birth_date:D}=this.passport,x=(await F.get(w.getPassportInfo(),{params:{series:s,number:o,birth_date:D},headers:{Authorization:`Bearer ${_.accessToken}`}})).data;this.passport.full_name=x.full_name||"",this.passport.address=x.address||"",this.passport.region=Number(x.region_id)||null,this.passport.district=Number(x.district_id)||null,this.passport.readonly=!0,this.passport.image=x.photo_url||"",this.passport.pinfl=x.passport_number||""},async submitPassport(){var _,s,o,D,S,x,v;try{const d=new FormData;d.append("birth_date",this.passport.birth_date),d.append("passport_series",this.passport.series),d.append("pinfl",this.passport.pinfl);const[g,I,...P]=this.passport.full_name.split(" ");if(d.append("last_name",g||""),d.append("first_name",I||""),d.append("other_name",P.join(" ")||""),this.passport.address&&d.append("address",this.passport.address),this.passport.country&&d.append("country",String(this.passport.country)),this.passport.region&&d.append("region",String(this.passport.region)),this.passport.district&&d.append("district",String(this.passport.district)),this.passport.gender&&d.append("gender",this.passport.gender),this.passport.nationality&&d.append("nationality",this.passport.nationality),this.passport.image instanceof File)d.append("image",this.passport.image);else if(typeof this.passport.image=="string"){const q=await fetch(this.passport.image).then(O=>O.blob()).then(O=>new File([O],"passport.jpg",{type:O.type}));d.append("image",q)}const j=await F.post(w.createProfile(),d,{headers:{"Content-Type":"multipart/form-data"}});console.log("✅ Passport saqlandi:",j.data)}catch(d){throw console.error("❌ Passport saqlashda xato:",((_=d.response)==null?void 0:_.data)||d),new Error(((D=(o=(s=d.response)==null?void 0:s.data)==null?void 0:o.non_field_errors)==null?void 0:D[0])||((v=(x=(S=d.response)==null?void 0:S.data)==null?void 0:x.passport_series)==null?void 0:v[0])||"Passport maʼlumotlari yuborilmadi")}},async saveDiplom(){var _,s,o,D,S,x;try{const v=H();if(this.diplomType==="regular"){const d=new FormData;d.append("serial_number",this.diplomForm.serial_number),d.append("education_type",String(this.diplomForm.education_type)),d.append("institution_type",String(this.diplomForm.institution_type)),d.append("university_name",this.diplomForm.university_name),d.append("graduation_year",this.diplomForm.graduation_year),d.append("region",String(this.diplomForm.region)),d.append("district",String(this.diplomForm.district)),this.diplomForm.diploma_file instanceof File&&d.append("diploma_file",this.diplomForm.diploma_file);const g=await F.post(w.createDiplom(),d,{headers:{"Content-Type":"multipart/form-data"}});return this.application.diplom=g.data.id,v.user.diplom=g.data,g.data.id}if(this.diplomType==="transfer"){const d=new FormData;d.append("country",String(this.transferDiplomForm.country)),d.append("university_name",this.transferDiplomForm.university_name),d.append("target_course",String(this.transferDiplomForm.target_course)),this.transferDiplomForm.transcript_file instanceof File&&d.append("transcript_file",this.transferDiplomForm.transcript_file);const g=await F.post(w.createTransferDiplom(),d,{headers:{"Content-Type":"multipart/form-data"}});return this.application.transfer_diplom=g.data.id,v.user.transfer_diplom=g.data,g.data.id}}catch(v){throw console.error("❌ Diplom saqlashda xato:",((_=v.response)==null?void 0:_.data)||v),new Error(((D=(o=(s=v.response)==null?void 0:s.data)==null?void 0:o.non_field_errors)==null?void 0:D[0])||((x=Object.values(((S=v.response)==null?void 0:S.data)||{}).flat())==null?void 0:x[0])||"Diplom maʼlumotlari yuborilmadi")}},async submitApplication(){var s,o,D,S,x,v,d;if(console.log("🔍 Funksiya ishga tushdi"),console.log(this.diplomForm),!this.application.diplom&&!this.application.transfer_diplom){toast.init({title:"⚠️ Eʼtibor",message:"Iltimos, diplom yoki transfer diplom maʼlumotlarini kiriting.",color:"warning"});return}const _={admission_type:this.application.admission_type,branch:this.application.branch,education_level:this.application.education_level,education_form:this.application.education_form,program:this.application.program};this.diplomType==="regular"&&Number(this.application.diplom)?_.diplom=Number(this.application.diplom):this.diplomType==="transfer"&&Number(this.application.transfer_diplom)&&(_.transfer_diplom=Number(this.application.transfer_diplom));try{const g=await F.post(w.createApplication(),_);this.hasSubmitted=!0,console.log("✅ Application yuborildi:",g.data),console.log("📤 Application payload:",_),console.log("📎 Diplom ID:",this.application.diplom),console.log("📎 Transfer Diplom ID:",this.application.transfer_diplom)}catch(g){throw console.error("❌ Application yuborishda xato:",((s=g.response)==null?void 0:s.data)||g),toast.init({title:"❌ Xatolik",message:JSON.stringify(((o=g.response)==null?void 0:o.data)||g),color:"danger"}),new Error(((x=(S=(D=g.response)==null?void 0:D.data)==null?void 0:S.non_field_errors)==null?void 0:x[0])||((d=Object.values(((v=g.response)==null?void 0:v.data)||{}).flat())==null?void 0:d[0])||"Application yuborilmadi")}},async nextStep(){if(this.step==="passport")await this.submitPassport(),this.setStep("diplom");else if(this.step==="diplom"){const _=await this.saveDiplom();this.diplomType==="transfer"?this.application.transfer_diplom=_:this.diplomType==="regular"&&(this.application.diplom=_),this.setStep("application")}else this.step==="application"&&await this.submitApplication()},prevStep(){this.step==="application"?this.step="diplom":this.step==="diplom"&&(this.step="passport")}}}),jt={class:"p-4"},qt={class:"mt-6"},Mt={class:"w-full text-sm text-left border border-gray-200 rounded overflow-hidden"},$t={class:"border-b"},Bt={class:"py-2 px-4"},Et={class:"border-b bg-gray-50"},Qt={class:"py-2 px-4"},Yt={class:"border-b"},Rt={class:"py-2 px-4"},Lt={class:"border-b bg-gray-50"},Kt={class:"py-2 px-4"},Xt={class:"border-b"},Gt={class:"py-2 px-4"},Jt={class:"border-b bg-gray-50"},Ht={class:"py-2 px-4"},Wt={class:"border-b bg-gray-50"},Zt={class:"py-2 px-4"},tl={class:"border-b"},ll={class:"py-2 px-4"},sl={class:"border-b bg-gray-50"},al={class:"py-2 px-4"},el={class:"border-b bg-gray-50"},ol={class:"py-2 px-4"},il={class:"py-2 px-4"},nl=["src"],rl={key:1,class:"grid gap-6"},pl={class:""},dl={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-4 items-end py-2"},ul={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-4 items-end py-2"},ml={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-4 items-end mb-3"},cl={class:"border w-[100px] h-[100px] p-2 rounded border-dashed border-3"},yl=["src"],fl={key:2,class:"grid gap-6"},bl={class:"w-full text-sm text-left border border-gray-200 rounded overflow-hidden"},gl={class:"border-b"},vl={class:"py-2 px-4"},_l={class:"border-b bg-gray-50"},xl={class:"py-2 px-4"},Vl={class:"border-b"},hl={class:"py-2 px-4"},Fl={class:"border-b bg-gray-50"},wl={class:"py-2 px-4"},Tl={class:"border-b"},kl={class:"py-2 px-4"},Dl={class:"border-b bg-gray-50"},Nl={class:"py-2 px-4"},Sl={class:"py-2 px-4"},zl={class:"bg-gray-50"},Ul={class:"py-2 px-4"},Cl=["href"],Ol={class:"w-full text-sm text-left border border-gray-200 rounded overflow-hidden"},Pl={class:"border-b"},Al={class:"py-2 px-4"},Il={class:"border-b bg-gray-50"},jl={class:"py-2 px-4"},ql={class:"border-b"},Ml={class:"py-2 px-4"},$l={class:"bg-gray-50"},Bl={class:"py-2 px-4"},El=["href"],Ql={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-4 items-end"},Yl={key:1,class:"grid gap-2"},Rl={class:"lg:col-span-4 col-span-12"},Ll={key:3,class:"grid md:grid-cols-1 gap-6"},Kl={class:"w-full text-sm text-left border border-gray-200 rounded overflow-hidden"},Xl={class:"border-b"},Gl={class:"py-2 px-4"},Jl={class:"border-b bg-gray-50"},Hl={class:"py-2 px-4"},Wl={class:"border-b"},Zl={class:"py-2 px-4"},ts={class:"border-b bg-gray-50"},ls={class:"py-2 px-4"},ss={class:"border-b"},as={class:"py-2 px-4"},es={key:4,class:"grid md:grid-cols-1 gap-6"},os={class:"mt-6 flex justify-between"},rs=Ot({__name:"ApplicationCreate",setup(_){const s=It(),o=H(),D=At(),S=T(!1),x=T(!1),v=T([]),d=T([]),g=T([]),I=T([]),P=T([]),j=T([]),q=V(()=>s.passport.readonly===!0),O=T(!1),ft=async()=>{O.value=!0;try{await s.fetchPassportInfo(),s.passport.region&&await B(s.passport.region)}catch{D.init({title:"❌ Qidiruv xatosi",message:"Maʼlumot topilmadi yoki xatolik yuz berdi.",color:"danger"})}finally{O.value=!1}},bt=async()=>{try{const e=await F.get(w.listCountries()),t=e.data.results||e.data;v.value=t.map(i=>({label:i.name,value:Number(i.id)}))}catch(e){console.error("Davlatlar yuklanmadi:",e)}},gt=async()=>{try{const e=await F.get(w.listRegions()),t=e.data.results||e.data;j.value=t.map(i=>{var r;return{label:i.name,value:Number(i.id),countryId:Number((r=i.country)==null?void 0:r.id)}}),I.value=j.value}catch(e){console.error("Viloyatlar yuklanmadi:",e)}},B=async e=>{try{const t=await F.get(w.listDistricts(),{params:{region:e}}),i=t.data.results||t.data;g.value=i.map(r=>({label:r.name,value:Number(r.id)}))}catch(t){console.error("Tumanlar yuklanmadi:",t)}},vt=async e=>{try{const t=await F.get(w.listDistricts(),{params:{region:e}}),i=t.data.results||t.data;P.value=i.map(r=>({label:r.name,value:Number(r.id)}))}catch(t){console.error("Diplom uchun tumanlar yuklanmadi:",t)}};J(()=>s.passport.country,e=>{const t=Number(e);isNaN(t)?d.value=[]:(s.passport.region=null,s.passport.district=null,d.value=j.value.filter(i=>i.countryId===t))},{immediate:!0}),J(()=>s.passport.region,e=>{e?B(Number(e)):g.value=[]}),J(()=>s.diplomForm.region,e=>{e?vt(Number(e)):P.value=[]});const _t=async()=>{try{if(S.value=!1,x.value=!1,s.step==="passport"&&!s.passport.readonly){D.init({title:"Passport to‘ldirilmagan",message:"Iltimos, passport maʼlumotlarini to‘ldiring yoki avtomatik yuklang.",color:"warning"});return}s.step==="passport"?(await s.submitPassport(),s.setStep("diplom")):s.step==="diplom"?(await s.saveDiplom(),s.setStep("application")):s.step==="application"&&(await s.submitApplication(),x.value=!0)}catch{S.value=!0,D.init({message:"Xatolik yuz berdi. Qayta urinib ko‘ring.",title:"❌ Xatolik",color:"danger"})}},xt=()=>s.prevStep(),W=V(()=>s.step),Z=[{label:"1-kursga qabul",value:"regular"},{label:"Transfer (perevod)",value:"transfer"}],Vt=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.profile)==null?void 0:r.country,t=v.value.find(u=>u.value===e);return(t==null?void 0:t.label)||"Nomaʼlum"}),ht=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.profile)==null?void 0:r.region,t=d.value.find(u=>u.value===e);return(t==null?void 0:t.label)||"Nomaʼlum"}),Ft=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.profile)==null?void 0:r.district,t=g.value.find(u=>u.value===e);return(t==null?void 0:t.label)||"Nomaʼlum"}),wt=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.diplom)==null?void 0:r.region,t=I.value.find(u=>u.value===e);return(t==null?void 0:t.label)||`#${e}`}),Tt=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.diplom)==null?void 0:r.district,t=P.value.find(u=>u.value===e);return(t==null?void 0:t.label)||`#${e}`}),kt=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.diplom)==null?void 0:r.education_type,t=L.value.find(u=>u.id===e);return(t==null?void 0:t.name)||`#${e}`}),Dt=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.diplom)==null?void 0:r.institution_type,t=K.value.find(u=>u.id===e);return(t==null?void 0:t.name)||`#${e}`}),tt=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.transfer_diplom)==null?void 0:r.target_course,t=M.value.find(u=>u.id===e);return(t==null?void 0:t.name)||`#${e}`}),Nt=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.transfer_diplom)==null?void 0:r.country,t=v.value.find(u=>u.value===e);return(t==null?void 0:t.label)||`#${e}`}),St=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.application)==null?void 0:r.education_level,t=Q.value.find(u=>u.id===e);return(t==null?void 0:t.name)||`#${e||"Nomaʼlum"}`}),lt=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.application)==null?void 0:r.admission_type,t=Z.find(u=>u.value===e);return(t==null?void 0:t.label)||`#${e||"Nomaʼlum"}`}),st=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.application)==null?void 0:r.branch,t=E.value.find(u=>u.id===e);return(t==null?void 0:t.name)||`#${e||"Nomaʼlum"}`}),at=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.application)==null?void 0:r.education_form,t=Y.value.find(u=>u.id===e);return(t==null?void 0:t.name)||`#${e||"Nomaʼlum"}`}),et=V(()=>{var i,r;const e=(r=(i=o.user)==null?void 0:i.application)==null?void 0:r.program,t=R.value.find(u=>u.id===e);return(t==null?void 0:t.name)||`#${e||"Nomaʼlum"}`}),zt=V(()=>s.hasSubmitted),f=V(()=>s),E=T([]),Q=T([]),Y=T([]),R=T([]),M=T([]),L=T([]),K=T([]);return console.log(M),Pt(async()=>{var t,i,r,u;if(await bt(),await gt(),await o.fetchUser(),s.passport.region&&await B(s.passport.region),(t=o.user)!=null&&t.profile){const y=o.user.profile;s.passport={series:y.passport_series,number:y.number,birth_date:y.birth_date,full_name:`${y.last_name} ${y.first_name} ${y.other_name}`.trim(),address:y.address,country:y.country,region:y.region,district:y.district,pinfl:y.pinfl,image:y.image,readonly:!0},y.region&&await B(y.region),s.setStep("diplom")}if((i=o.user)!=null&&i.diplom){const y=o.user.diplom;s.diplomForm={serial_number:y.serial_number,education_type:y.education_type,institution_type:y.institution_type,university_name:y.university_name,graduation_year:y.graduation_year,region:y.region,district:y.district,diploma_file:null,readonly:!0},s.diplomType="regular",s.setStep("application")}(r=o.user)!=null&&r.diplom&&(s.application.diplom=o.user.diplom.id),(u=o.user)!=null&&u.transfer_diplom&&(s.application.transfer_diplom=o.user.transfer_diplom.id),E.value=(await F.get(w.listBranches())).data,Q.value=(await F.get(w.listEducationLevels())).data,Y.value=(await F.get(w.listEducationForms())).data,R.value=(await F.get(w.listPrograms())).data,M.value=(await F.get(w.listCourses())).data,L.value=(await F.get(w.listEducationTypes())).data,K.value=(await F.get(w.listIstitutionTypes())).data;const e=await F.get(w.listCourses());M.value=e.data.results||e.data}),(e,t)=>{const i=U("VaAlert"),r=U("VaCardTitle"),u=U("VaCardContent"),y=U("VaCard"),X=U("VaTab"),Ut=U("VaTabs"),z=U("VaInput"),G=U("VaButton"),k=U("VaSelect"),ot=U("VaFileUpload");return h(),N("div",jt,[t[88]||(t[88]=l("h1",{class:"text-2xl font-bold mb-6"},"🧾 Ariza topshirish",-1)),p(y,null,{default:c(()=>[p(u,null,{default:c(()=>{var it,nt,rt,pt,dt,ut,mt,ct,yt;return[zt.value?(h(),N(A,{key:0},[p(i,{color:"success",class:"mb-4"},{default:c(()=>t[28]||(t[28]=[b("✅ Siz arizani allaqachon to‘ldirgansiz. Maʼlumotlaringiz:")])),_:1}),(it=a(o).user)!=null&&it.profile?(h(),$(y,{key:0,class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[29]||(t[29]=[b("📌 Passport")])),_:1}),p(u,null,{default:c(()=>[l("p",null,[t[30]||(t[30]=l("strong",null,"F.I.Sh:",-1)),b(" "+m(a(o).user.profile.last_name)+" "+m(a(o).user.profile.first_name)+" "+m(a(o).user.profile.other_name),1)]),l("p",null,[t[31]||(t[31]=l("strong",null,"Manzil:",-1)),b(" "+m(a(o).user.profile.address),1)])]),_:1})]),_:1})):C("",!0),(nt=a(o).user)!=null&&nt.diplom?(h(),$(y,{key:1,class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[32]||(t[32]=[b("🎓 Diplom")])),_:1}),p(u,null,{default:c(()=>[l("p",null,[t[33]||(t[33]=l("strong",null,"OTM:",-1)),b(" "+m(a(o).user.diplom.university_name),1)]),l("p",null,[t[34]||(t[34]=l("strong",null,"Bitirgan yil:",-1)),b(" "+m(a(o).user.diplom.graduation_year),1)])]),_:1})]),_:1})):C("",!0),(rt=a(o).user)!=null&&rt.transfer_diplom?(h(),$(y,{key:2,class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[35]||(t[35]=[b("🎓 Transfer Diplom")])),_:1}),p(u,null,{default:c(()=>[l("p",null,[t[36]||(t[36]=l("strong",null,"OTM:",-1)),b(" "+m(a(o).user.transfer_diplom.university_name),1)]),l("p",null,[t[37]||(t[37]=l("strong",null,"Kurs:",-1)),b(" "+m(tt.value),1)])]),_:1})]),_:1})):C("",!0),(pt=a(o).user)!=null&&pt.application?(h(),$(y,{key:3,class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[38]||(t[38]=[b("📋 Ariza")])),_:1}),p(u,null,{default:c(()=>[l("p",null,[t[39]||(t[39]=l("strong",null,"Yo‘nalish:",-1)),b(" "+m(et.value),1)]),l("p",null,[t[40]||(t[40]=l("strong",null,"Taʼlim shakli:",-1)),b(" "+m(at.value),1)]),l("p",null,[t[41]||(t[41]=l("strong",null,"Filial:",-1)),b(" "+m(st.value),1)]),l("p",null,[t[42]||(t[42]=l("strong",null,"Qabul turi:",-1)),b(" "+m(lt.value),1)])]),_:1})]),_:1})):C("",!0)],64)):(h(),N(A,{key:1},[p(Ut,{modelValue:a(s).step,"onUpdate:modelValue":t[0]||(t[0]=n=>a(s).step=n),grow:""},{default:c(()=>[p(X,{name:"passport"},{default:c(()=>t[43]||(t[43]=[b("Passport")])),_:1}),p(X,{name:"diplom"},{default:c(()=>t[44]||(t[44]=[b("Diplom")])),_:1}),p(X,{name:"application"},{default:c(()=>t[45]||(t[45]=[b("Ariza")])),_:1})]),_:1},8,["modelValue"]),l("div",qt,[a(s).step==="passport"&&((dt=a(o).user)!=null&&dt.profile)?(h(),N(A,{key:0},[p(i,{color:"info"},{default:c(()=>t[46]||(t[46]=[b("ℹ️ Siz passport maʼlumotlarini oldin to‘ldirgansiz.")])),_:1}),p(y,{class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[47]||(t[47]=[b("📌 Passport maʼlumotlari")])),_:1}),p(u,null,{default:c(()=>[l("table",Mt,[l("tbody",null,[l("tr",$t,[t[48]||(t[48]=l("td",{class:"py-2 px-4 font-semibold w-1/3"},"Familiya:",-1)),l("td",Bt,m(a(o).user.profile.last_name),1)]),l("tr",Et,[t[49]||(t[49]=l("td",{class:"py-2 px-4 font-semibold"},"Ism:",-1)),l("td",Qt,m(a(o).user.profile.first_name),1)]),l("tr",Yt,[t[50]||(t[50]=l("td",{class:"py-2 px-4 font-semibold"},"Otasining ismi:",-1)),l("td",Rt,m(a(o).user.profile.other_name),1)]),l("tr",Lt,[t[51]||(t[51]=l("td",{class:"py-2 px-4 font-semibold"},"Tug‘ilgan sana:",-1)),l("td",Kt,m(a(o).user.profile.birth_date),1)]),l("tr",Xt,[t[52]||(t[52]=l("td",{class:"py-2 px-4 font-semibold"},"Passport seriyasi:",-1)),l("td",Gt,m(a(o).user.profile.passport_series),1)]),l("tr",Jt,[t[53]||(t[53]=l("td",{class:"py-2 px-4 font-semibold"},"PINFL:",-1)),l("td",Ht,m(a(o).user.profile.pinfl),1)]),l("tr",Wt,[t[54]||(t[54]=l("td",{class:"py-2 px-4 font-semibold"},"Davlat:",-1)),l("td",Zt,m(Vt.value),1)]),l("tr",tl,[t[55]||(t[55]=l("td",{class:"py-2 px-4 font-semibold"},"Viloyat:",-1)),l("td",ll,m(ht.value),1)]),l("tr",sl,[t[56]||(t[56]=l("td",{class:"py-2 px-4 font-semibold"},"Tuman:",-1)),l("td",al,m(Ft.value),1)]),l("tr",el,[t[57]||(t[57]=l("td",{class:"py-2 px-4 font-semibold"},"Manzil:",-1)),l("td",ol,m(a(o).user.profile.address),1)]),l("tr",null,[t[58]||(t[58]=l("td",{class:"py-2 px-4 font-semibold"},"📷 Rasm:",-1)),l("td",il,[l("img",{src:a(o).user.profile.image,alt:"Passport Image",class:"max-h-40 border rounded shadow"},null,8,nl)])])])])]),_:1})]),_:1})],64)):a(s).step==="passport"?(h(),N("div",rl,[l("div",pl,[t[60]||(t[60]=l("h4",{class:"text-[#888] text-center",style:{"font-size":"12px","font-weight":"bolder"}},[l("span",{class:"text-[#444]"},"Avto qidiruv"),b(" (Passport seria raqami va tug'ilgan sanani kiriting va qidiruv tugmasini bosing) ")],-1)),l("div",dl,[p(z,{modelValue:f.value.passport.series,"onUpdate:modelValue":t[1]||(t[1]=n=>f.value.passport.series=n),placeholder:"",label:"Passport seriyasi",class:"lg:col-span-3 col-span-12"},null,8,["modelValue"]),p(z,{modelValue:f.value.passport.number,"onUpdate:modelValue":t[2]||(t[2]=n=>f.value.passport.number=n),placeholder:"",label:"Passport raqami",class:"lg:col-span-4 col-span-12"},null,8,["modelValue"]),p(z,{modelValue:f.value.passport.birth_date,"onUpdate:modelValue":t[3]||(t[3]=n=>f.value.passport.birth_date=n),type:"date",label:"Tug‘ilgan sana",class:"lg:col-span-4 col-span-12"},null,8,["modelValue"]),p(G,{size:"small",style:{width:"40px",height:"40px"},class:"lg:col-span-1 col-span-12 rounded-md h-full flex items-center justify-center",loading:O.value,icon:O.value?"va-loading":"search","aria-label":"Qidirish",onClick:ft},{default:c(()=>t[59]||(t[59]=[b("🔍")])),_:1},8,["loading","icon"])]),l("div",ul,[p(z,{modelValue:f.value.passport.full_name,"onUpdate:modelValue":t[4]||(t[4]=n=>f.value.passport.full_name=n),class:"lg:col-span-4 col-span-12",label:"F.I.Sh.",readonly:q.value},null,8,["modelValue","readonly"]),p(z,{modelValue:f.value.passport.address,"onUpdate:modelValue":t[5]||(t[5]=n=>f.value.passport.address=n),class:"lg:col-span-4 col-span-12",label:"Manzil",readonly:q.value},null,8,["modelValue","readonly"]),p(z,{modelValue:f.value.passport.pinfl,"onUpdate:modelValue":t[6]||(t[6]=n=>f.value.passport.pinfl=n),class:"lg:col-span-4 col-span-12",label:"pinfl",readonly:q.value},null,8,["modelValue","readonly"])]),l("div",ml,[p(k,{modelValue:f.value.passport.country,"onUpdate:modelValue":t[7]||(t[7]=n=>f.value.passport.country=n),options:v.value,label:"Davlat","track-by":"value","text-by":"label","value-by":n=>n.value,class:"lg:col-span-4 col-span-12"},null,8,["modelValue","options","value-by"]),p(k,{modelValue:f.value.passport.region,"onUpdate:modelValue":t[8]||(t[8]=n=>f.value.passport.region=n),options:d.value,label:"Viloyat","track-by":"value","text-by":"label","value-by":n=>n.value,class:"lg:col-span-4 col-span-12"},null,8,["modelValue","options","value-by"]),p(k,{modelValue:f.value.passport.district,"onUpdate:modelValue":t[9]||(t[9]=n=>f.value.passport.district=n),options:g.value,label:"Tuman",disabled:!f.value.passport.region,"track-by":"value","text-by":"label","value-by":n=>n.value,class:"lg:col-span-4 col-span-12"},null,8,["modelValue","options","disabled","value-by"])]),l("div",cl,[l("img",{src:f.value.passport.image,alt:"Passport Image",class:"max-h-48 object-contain"},null,8,yl)])])])):C("",!0),a(s).step==="diplom"?(h(),N("div",fl,[(ut=a(o).user)!=null&&ut.diplom?(h(),N(A,{key:0},[p(i,{color:"info",class:"w-full"},{default:c(()=>t[61]||(t[61]=[b("ℹ️ Siz diplom maʼlumotlarini oldin to‘ldirgansiz.")])),_:1}),p(y,{class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[62]||(t[62]=[b("🎓 Diplom")])),_:1}),p(u,null,{default:c(()=>[l("table",bl,[l("tbody",null,[l("tr",gl,[t[63]||(t[63]=l("td",{class:"py-2 px-4 font-semibold w-1/3"},"Seriya raqami:",-1)),l("td",vl,m(a(o).user.diplom.serial_number),1)]),l("tr",_l,[t[64]||(t[64]=l("td",{class:"py-2 px-4 font-semibold"},"OTM:",-1)),l("td",xl,m(a(o).user.diplom.university_name),1)]),l("tr",Vl,[t[65]||(t[65]=l("td",{class:"py-2 px-4 font-semibold"},"Bitirgan yil:",-1)),l("td",hl,m(a(o).user.diplom.graduation_year),1)]),l("tr",Fl,[t[66]||(t[66]=l("td",{class:"py-2 px-4 font-semibold"},"Viloyat:",-1)),l("td",wl,m(wt.value),1)]),l("tr",Tl,[t[67]||(t[67]=l("td",{class:"py-2 px-4 font-semibold"},"Tuman:",-1)),l("td",kl,m(Tt.value),1)]),l("tr",Dl,[t[68]||(t[68]=l("td",{class:"py-2 px-4 font-semibold"},"Muassasa turi:",-1)),l("td",Nl,m(Dt.value),1)]),l("tr",null,[t[69]||(t[69]=l("td",{class:"py-2 px-4 font-semibold"},"Taʼlim turi:",-1)),l("td",Sl,m(kt.value),1)]),l("tr",zl,[t[70]||(t[70]=l("td",{class:"py-2 px-4 font-semibold"},"📎 Diplom fayli:",-1)),l("td",Ul,[l("a",{href:a(o).user.diplom.diploma_file,target:"_blank",class:"text-blue-600 hover:underline"}," Yuklab olish ",8,Cl)])])])])]),_:1})]),_:1})],64)):(mt=a(o).user)!=null&&mt.transfer_diplom?(h(),N(A,{key:1},[p(i,{color:"info",class:"w-full"},{default:c(()=>t[71]||(t[71]=[b("ℹ️ Siz transfer diplom maʼlumotlarini oldin to‘ldirgansiz.")])),_:1}),p(y,{class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[72]||(t[72]=[b("🎓 Transfer Diplom")])),_:1}),p(u,null,{default:c(()=>[l("table",Ol,[l("tbody",null,[l("tr",Pl,[t[73]||(t[73]=l("td",{class:"py-2 px-4 font-semibold w-1/3"},"Davlat:",-1)),l("td",Al,m(Nt.value),1)]),l("tr",Il,[t[74]||(t[74]=l("td",{class:"py-2 px-4 font-semibold"},"OTM nomi:",-1)),l("td",jl,m(a(o).user.transfer_diplom.university_name),1)]),l("tr",ql,[t[75]||(t[75]=l("td",{class:"py-2 px-4 font-semibold"},"Topshiradigan kursi:",-1)),l("td",Ml,m(tt.value),1)]),l("tr",$l,[t[76]||(t[76]=l("td",{class:"py-2 px-4 font-semibold"},"📎 Transcript fayli:",-1)),l("td",Bl,[l("a",{href:a(o).user.transfer_diplom.transcript_file,target:"_blank",class:"text-blue-600 hover:underline"}," Yuklab olish ",8,El)])])])])]),_:1})]),_:1})],64)):(h(),N(A,{key:2},[t[79]||(t[79]=l("h4",{class:"text-[#888] text-start",style:{"font-size":"12px","font-weight":"bolder"}},[l("span",{class:"text-[#444]"},"O'qishga topshirmoqchimisiz? yoki Perevodmi? "),b(" (O'zingizga tegishlisini tanlab to'ldiring) ")],-1)),p(k,{modelValue:a(s).diplomType,"onUpdate:modelValue":t[10]||(t[10]=n=>a(s).diplomType=n),options:[{label:"Diplom maʼlumotlari",value:"regular"},{label:"Transfer (perevod)",value:"transfer"}],label:"Diplom turi","text-by":"label","value-by":"value"},null,8,["modelValue"]),a(s).diplomType==="regular"&&a(s).diplomForm?(h(),N("div",Ql,[p(z,{modelValue:a(s).diplomForm.serial_number,"onUpdate:modelValue":t[11]||(t[11]=n=>a(s).diplomForm.serial_number=n),class:"lg:col-span-4 col-span-12",label:"Diplom seriya raqami"},null,8,["modelValue"]),p(k,{modelValue:a(s).diplomForm.education_type,"onUpdate:modelValue":t[12]||(t[12]=n=>a(s).diplomForm.education_type=n),class:"lg:col-span-4 col-span-12",options:L.value,clearable:"",label:"Ma'lumot turi","value-by":"id","text-by":"name"},null,8,["modelValue","options"]),p(k,{modelValue:a(s).diplomForm.institution_type,"onUpdate:modelValue":t[13]||(t[13]=n=>a(s).diplomForm.institution_type=n),class:"lg:col-span-4 col-span-12",options:K.value,clearable:"",label:"Muassasa turi","value-by":"id","text-by":"name"},null,8,["modelValue","options"]),p(z,{modelValue:a(s).diplomForm.university_name,"onUpdate:modelValue":t[14]||(t[14]=n=>a(s).diplomForm.university_name=n),class:"lg:col-span-4 col-span-12",label:"Muassasa nomi"},null,8,["modelValue"]),p(z,{modelValue:a(s).diplomForm.graduation_year,"onUpdate:modelValue":t[15]||(t[15]=n=>a(s).diplomForm.graduation_year=n),class:"lg:col-span-4 col-span-12",label:"Bitirgan yil"},null,8,["modelValue"]),p(k,{modelValue:a(s).diplomForm.region,"onUpdate:modelValue":t[16]||(t[16]=n=>a(s).diplomForm.region=n),class:"lg:col-span-4 col-span-12",options:I.value,clearable:"",label:"Viloyat","value-by":"value","text-by":"label"},null,8,["modelValue","options"]),p(k,{modelValue:a(s).diplomForm.district,"onUpdate:modelValue":t[17]||(t[17]=n=>a(s).diplomForm.district=n),class:"lg:col-span-4 col-span-12",options:P.value,clearable:"",label:"Tuman","value-by":"value","text-by":"label",disabled:!a(s).diplomForm.region},null,8,["modelValue","options","disabled"]),p(ot,{modelValue:a(s).diplomForm.diploma_file,"onUpdate:modelValue":t[18]||(t[18]=n=>a(s).diplomForm.diploma_file=n),type:"single",label:"📄 Diplom faylini yuklang",accept:".pdf,.jpg,.jpeg,.png",class:"lg:col-span-8 col-span-12",dropzone:""},null,8,["modelValue"]),l("pre",null,m((ct=f.value.diplomForm.diploma_file)==null?void 0:ct.name),1)])):C("",!0),a(s).diplomType==="transfer"&&a(s).transferDiplomForm?(h(),N("div",Yl,[p(k,{modelValue:a(s).transferDiplomForm.country,"onUpdate:modelValue":t[19]||(t[19]=n=>a(s).transferDiplomForm.country=n),options:v.value,clearable:"",label:"Davlat","track-by":"value","text-by":"label","value-by":n=>n.value,class:"lg:col-span-4 col-span-12"},null,8,["modelValue","options","value-by"]),p(z,{modelValue:a(s).transferDiplomForm.university_name,"onUpdate:modelValue":t[20]||(t[20]=n=>a(s).transferDiplomForm.university_name=n),class:"lg:col-span-4 col-span-12",label:"OTM nomi"},null,8,["modelValue"]),p(k,{modelValue:a(s).transferDiplomForm.target_course,"onUpdate:modelValue":t[21]||(t[21]=n=>a(s).transferDiplomForm.target_course=n),options:M.value,clearable:"",label:"Topshiradigan kursi","value-by":"id","text-by":"name",class:"lg:col-span-4 col-span-12"},null,8,["modelValue","options"]),l("div",Rl,[t[77]||(t[77]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"📎 Transcript faylni yuklang",-1)),t[78]||(t[78]=l("small",{class:"text-gray-500 text-sm"},"Faqat .pdf, .jpg, .jpeg, .png, docx, .doc fayllar qabul qilinadi",-1)),p(ot,{modelValue:a(s).transferDiplomForm.transcript_file,"onUpdate:modelValue":t[22]||(t[22]=n=>a(s).transferDiplomForm.transcript_file=n),label:"📎 Transcript fayl",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",type:"single",class:"lg:col-span-4 col-span-12",dropzone:""},null,8,["modelValue"])])])):C("",!0)],64))])):C("",!0),a(s).step==="application"&&((yt=a(o).user)!=null&&yt.application)?(h(),N("div",Ll,[p(i,{color:"info",class:"w-full"},{default:c(()=>t[80]||(t[80]=[b("ℹ️ Siz ariza (application) maʼlumotlarini oldin to‘ldirgansiz.")])),_:1}),p(y,{class:"mb-4"},{default:c(()=>[p(r,null,{default:c(()=>t[81]||(t[81]=[b("📌 Ariza maʼlumotlari")])),_:1}),p(u,null,{default:c(()=>[l("table",Kl,[l("tbody",null,[l("tr",Xl,[t[82]||(t[82]=l("td",{class:"py-2 px-4 font-semibold w-1/3"},"Qabul turi:",-1)),l("td",Gl,m(lt.value),1)]),l("tr",Jl,[t[83]||(t[83]=l("td",{class:"py-2 px-4 font-semibold"},"Filial:",-1)),l("td",Hl,m(st.value),1)]),l("tr",Wl,[t[84]||(t[84]=l("td",{class:"py-2 px-4 font-semibold"},"Taʼlim darajasi:",-1)),l("td",Zl,m(St.value),1)]),l("tr",ts,[t[85]||(t[85]=l("td",{class:"py-2 px-4 font-semibold"},"Taʼlim shakli:",-1)),l("td",ls,m(at.value),1)]),l("tr",ss,[t[86]||(t[86]=l("td",{class:"py-2 px-4 font-semibold"},"Yo‘nalish:",-1)),l("td",as,m(et.value),1)])])])]),_:1})]),_:1})])):a(s).step==="application"?(h(),N("div",es,[p(k,{modelValue:f.value.application.admission_type,"onUpdate:modelValue":t[23]||(t[23]=n=>f.value.application.admission_type=n),options:Z,label:"Qabul turi","text-by":"label","value-by":"value",placeholder:"Qabul turini tanlang"},null,8,["modelValue"]),p(k,{modelValue:f.value.application.branch,"onUpdate:modelValue":t[24]||(t[24]=n=>f.value.application.branch=n),options:E.value,label:"Filial","value-by":"id","text-by":"name",placeholder:"Filialni tanlang"},null,8,["modelValue","options"]),p(k,{modelValue:f.value.application.education_level,"onUpdate:modelValue":t[25]||(t[25]=n=>f.value.application.education_level=n),options:Q.value,label:"Taʼlim darajasi","value-by":"id","text-by":"name",placeholder:"Taʼlim darajasini tanlang"},null,8,["modelValue","options"]),p(k,{modelValue:f.value.application.education_form,"onUpdate:modelValue":t[26]||(t[26]=n=>f.value.application.education_form=n),options:Y.value,label:"Taʼlim shakli","value-by":"id","text-by":"name",placeholder:"Taʼlim shaklini tanlang"},null,8,["modelValue","options"]),p(k,{modelValue:f.value.application.program,"onUpdate:modelValue":t[27]||(t[27]=n=>f.value.application.program=n),options:R.value,label:"Yo‘nalish","value-by":"id","text-by":"name",placeholder:"Yo‘nalishni tanlang"},null,8,["modelValue","options"])])):C("",!0)]),l("div",os,[W.value!=="passport"?(h(),$(G,{key:0,onClick:xt},{default:c(()=>t[87]||(t[87]=[b("⬅️ Ortga")])),_:1})):C("",!0),p(G,{color:"primary",onClick:_t},{default:c(()=>[b(m(W.value==="application"?"✅ Yuborish":"Keyingi ➡️"),1)]),_:1})])],64))]}),_:1})]),_:1})])}}});export{rs as default};
//# sourceMappingURL=ApplicationCreate-WdsLd8DH.js.map
