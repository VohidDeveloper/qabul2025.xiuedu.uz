{"version":3,"file":"Verify-DS0i0AGp.js","sources":["../../src/pages/auth/Verify.vue"],"sourcesContent":["<template>\n  <VaForm @submit.prevent=\"submit\">\n    <h2 class=\"text-xl mb-4\">SMS orqali yuborilgan kodni kiriting</h2>\n    <VaInput v-model=\"code\" label=\"Tasdiqlash kodi\" :rules=\"[(v) => !!v || 'Kod majburiy']\" type=\"text\" class=\"mb-4\" />\n    <div class=\"flex justify-center\">\n      <VaButton :loading=\"loading\" class=\"w-full\" @click=\"submit\">Tasdiqlash</VaButton>\n    </div>\n  </VaForm>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useToast } from 'vuestic-ui'\nimport axios from '@/services/axios'\nimport api from '@/services/api'\n\nconst code = ref('')\nconst loading = ref(false)\nconst { query } = useRoute()\nconst { push } = useRouter()\nconst { init } = useToast()\n\nconst submit = async () => {\n  if (!code.value || !query.phone) {\n    init({ message: 'Telefon yoki kod yo‘q', color: 'danger' })\n    return\n  }\n\n  loading.value = true\n  try {\n    await axios.post(api.verify(), {\n      phone: query.phone,\n      code: code.value,\n    })\n\n    init({ message: 'Tizimga muvaffaqiyatli ro‘yxatdan o‘tildi!', color: 'success' })\n    push({ name: 'login' })\n  } catch {\n    init({ message: 'Kod noto‘g‘ri yoki muddati tugagan', color: 'danger' })\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n"],"names":["code","ref","loading","query","useRoute","push","useRouter","init","useToast","submit","axios","api"],"mappings":"+OAiBM,MAAAA,EAAOC,EAAI,EAAE,EACbC,EAAUD,EAAI,EAAK,EACnB,CAAE,MAAAE,GAAUC,IACZ,CAAE,KAAAC,GAASC,IACX,CAAE,KAAAC,GAASC,IAEXC,EAAS,SAAY,CACzB,GAAI,CAACT,EAAK,OAAS,CAACG,EAAM,MAAO,CAC/BI,EAAK,CAAE,QAAS,wBAAyB,MAAO,QAAU,CAAA,EAC1D,MACF,CAEAL,EAAQ,MAAQ,GACZ,GAAA,CACF,MAAMQ,EAAM,KAAKC,EAAI,OAAA,EAAU,CAC7B,MAAOR,EAAM,MACb,KAAMH,EAAK,KAAA,CACZ,EAEDO,EAAK,CAAE,QAAS,6CAA8C,MAAO,SAAW,CAAA,EAC3EF,EAAA,CAAE,KAAM,OAAA,CAAS,CAAA,MAChB,CACNE,EAAK,CAAE,QAAS,qCAAsC,MAAO,QAAU,CAAA,CAAA,QACvE,CACAL,EAAQ,MAAQ,EAClB,CAAA"}